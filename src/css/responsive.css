/**
 * Estilos Responsivos - Pontos de Entretenimento DF
 * Media queries e adaptações para diferentes dispositivos
 * 
 * @author Seu Nome
 * @version 1.0.0
 */

/* ===== BREAKPOINTS ===== */
/* 
   xs: < 576px (mobile portrait)
   sm: >= 576px (mobile landscape)
   md: >= 768px (tablet)
   lg: >= 992px (desktop)
   xl: >= 1200px (large desktop)
   xxl: >= 1400px (extra large desktop)
*/

/* ===== MOBILE FIRST APPROACH ===== */

/* ===== EXTRA SMALL DEVICES (< 576px) ===== */
@media (max-width: 575.98px) {
    .container {
        padding: 0 var(--spacing-sm);
    }
    
    /* Header responsivo */
    .header-content {
        flex-direction: column;
        gap: var(--spacing-md);
        text-align: center;
    }
    
    .logo h1 {
        font-size: 1.5rem;
    }
    
    .header-actions {
        flex-wrap: wrap;
        justify-content: center;
    }
    
    /* Layout principal */
    .app-layout {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .sidebar {
        order: 2;
        margin-top: var(--spacing-lg);
        height: auto;
        max-height: none;
    }
    
    .map-container {
        order: 1;
        height: 400px;
    }
    
    /* Menu de categorias em mobile */
    .menu-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: var(--spacing-sm);
    }
    
    .category-btn {
        padding: var(--spacing-sm);
        font-size: 0.85rem;
        text-align: center;
        justify-content: center;
    }
    
    /* Controles do mapa */
    .map-controls {
        top: var(--spacing-sm);
        right: var(--spacing-sm);
    }
    
    .map-control-btn {
        width: 36px;
        height: 36px;
        font-size: 0.9rem;
    }
    
    /* Status do mapa */
    .map-status {
        bottom: var(--spacing-sm);
        left: var(--spacing-sm);
        font-size: 0.75rem;
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    /* Footer */
    .footer-content {
        flex-direction: column;
        gap: var(--spacing-md);
        text-align: center;
    }
    
    .footer-links {
        flex-direction: column;
        gap: var(--spacing-sm);
    }
    
    /* Modais */
    .modal {
        margin: var(--spacing-sm);
        max-width: none;
        width: auto;
    }
    
    .modal-header,
    .modal-body,
    .modal-footer {
        padding: var(--spacing-md);
    }
    
    /* Botões */
    .btn {
        padding: var(--spacing-md);
        font-size: 0.95rem;
    }
    
    .btn-sm {
        padding: var(--spacing-sm);
        font-size: 0.8rem;
    }
    
    /* Formulários */
    .input-group {
        flex-direction: column;
    }
    
    /* Painéis da sidebar */
    .panel {
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-md);
    }
    
    .panel h3 {
        font-size: 1rem;
    }
}

/* ===== SMALL DEVICES (576px - 767.98px) ===== */
@media (min-width: 576px) and (max-width: 767.98px) {
    /* Layout em tablet pequeno */
    .app-layout {
        grid-template-columns: 1fr;
        height: auto;
    }
    
    .sidebar {
        order: 2;
        margin-top: var(--spacing-lg);
    }
    
    .map-container {
        order: 1;
        height: 500px;
    }
    
    /* Menu de categorias */
    .menu-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-sm);
    }
    
    /* Controles mais espaçados */
    .map-controls {
        gap: var(--spacing-md);
    }
}

/* ===== MEDIUM DEVICES (768px - 991.98px) ===== */
@media (min-width: 768px) and (max-width: 991.98px) {
    /* Layout tablet */
    .app-layout {
        grid-template-columns: 250px 1fr;
        gap: var(--spacing-md);
    }
    
    .sidebar {
        width: 250px;
    }
    
    .map-container {
        height: calc(100vh - 180px);
    }
    
    /* Menu de categorias em coluna */
    .menu-container {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
    }
    
    /* Header compacto */
    .header-content {
        gap: var(--spacing-md);
    }
    
    .logo h1 {
        font-size: 1.6rem;
    }
    
    /* Modais */
    .modal {
        max-width: 600px;
    }
}

/* ===== LARGE DEVICES (992px - 1199.98px) ===== */
@media (min-width: 992px) and (max-width: 1199.98px) {
    /* Layout desktop padrão */
    .app-layout {
        grid-template-columns: 280px 1fr;
    }
    
    .sidebar {
        width: 280px;
    }
    
    /* Aumentar fonte em telas maiores */
    .category-btn {
        font-size: 1rem;
    }
    
    .panel h3 {
        font-size: 1.15rem;
    }
}

/* ===== EXTRA LARGE DEVICES (>= 1200px) ===== */
@media (min-width: 1200px) {
    /* Layout para telas grandes */
    .container {
        max-width: 1400px;
    }
    
    .app-layout {
        grid-template-columns: 320px 1fr;
        gap: var(--spacing-xl);
    }
    
    .sidebar {
        width: 320px;
    }
    
    /* Aumentar espaçamentos */
    .panel {
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
    }
    
    /* Fontes maiores */
    .logo h1 {
        font-size: 2rem;
    }
    
    .category-btn {
        padding: var(--spacing-lg);
        font-size: 1.05rem;
    }
    
    /* Modais maiores */
    .modal {
        max-width: 700px;
    }
}

/* ===== ULTRA WIDE DISPLAYS (>= 1400px) ===== */
@media (min-width: 1400px) {
    .container {
        max-width: 1600px;
    }
    
    .app-layout {
        grid-template-columns: 350px 1fr;
    }
    
    .sidebar {
        width: 350px;
    }
}

/* ===== ALTURA DA TELA ===== */
@media (max-height: 700px) {
    /* Telas baixas (netbooks, etc) */
    .header {
        padding: var(--spacing-sm) 0;
    }
    
    .logo h1 {
        font-size: 1.4rem;
    }
    
    .logo p {
        font-size: 0.8rem;
    }
    
    .sidebar {
        max-height: calc(100vh - 120px);
    }
    
    .panel {
        margin-bottom: var(--spacing-md);
        padding-bottom: var(--spacing-md);
    }
}

/* ===== ORIENTAÇÃO LANDSCAPE EM MOBILE ===== */
@media (max-width: 767.98px) and (orientation: landscape) {
    .app-layout {
        grid-template-columns: 250px 1fr;
        height: calc(100vh - 120px);
    }
    
    .sidebar {
        order: 1;
        margin-top: 0;
        max-height: 100%;
    }
    
    .map-container {
        order: 2;
        height: 100%;
    }
    
    /* Compactar painéis */
    .panel {
        margin-bottom: var(--spacing-sm);
        padding-bottom: var(--spacing-sm);
    }
    
    .panel h3 {
        font-size: 0.95rem;
        margin-bottom: var(--spacing-sm);
    }
    
    .category-btn {
        padding: var(--spacing-sm);
        font-size: 0.85rem;
    }
}

/* ===== TOUCH DEVICES ===== */
@media (pointer: coarse) {
    /* Aumentar áreas de toque */
    .btn {
        min-height: 44px;
        padding: var(--spacing-md) var(--spacing-lg);
    }
    
    .category-btn {
        min-height: 48px;
    }
    
    .map-control-btn {
        min-width: 44px;
        min-height: 44px;
    }
    
    /* Hover states não aplicam em touch */
    .category-btn:hover {
        transform: none;
    }
    
    .btn:hover {
        transform: none;
    }
    
    .map-control-btn:hover {
        transform: none;
    }
}

/* ===== HIGH DPI DISPLAYS ===== */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    /* Ajustes para telas de alta densidade */
    .leaflet-map {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
    
    /* Bordas mais finas em alta resolução */
    .form-input,
    .form-textarea,
    .form-select {
        border-width: 1px;
    }
    
    .category-btn {
        border-width: 1px;
    }
}

/* ===== PRINT STYLES ===== */
@media print {
    /* Ocultar elementos não necessários */
    .header-actions,
    .map-controls,
    .sidebar,
    .footer,
    .modal-backdrop {
        display: none !important;
    }
    
    /* Ajustar layout para impressão */
    .app-layout {
        grid-template-columns: 1fr;
    }
    
    .map-container {
        height: 600px;
        page-break-inside: avoid;
    }
    
    /* Cores para impressão */
    * {
        background: white !important;
        color: black !important;
        box-shadow: none !important;
    }
    
    .leaflet-map {
        border: 1px solid #ccc;
    }
}

/* ===== MOTION PREFERENCES ===== */
@media (prefers-reduced-motion: reduce) {
    /* Reduzir animações para usuários sensíveis */
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
    
    .category-btn:hover {
        transform: none;
    }
    
    .modal {
        animation: none;
    }
    
    .loading-spinner {
        animation: none;
        border-top-color: transparent;
    }
}

/* ===== COLOR SCHEME PREFERENCES ===== */
@media (prefers-color-scheme: dark) {
    /* Auto dark mode baseado na preferência do sistema */
    :root {
        --text-color: #ecf0f1;
        --text-muted: #bdc3c7;
        --border-color: #34495e;
        --background-color: #2c3e50;
        --white: #34495e;
    }
    
    body {
        background: #2c3e50;
        color: #ecf0f1;
    }
    
    .leaflet-map {
        filter: invert(1) hue-rotate(180deg);
    }
}

/* ===== CONTRAST PREFERENCES ===== */
@media (prefers-contrast: high) {
    /* Alto contraste para acessibilidade */
    :root {
        --border-color: #000;
        --text-color: #000;
        --primary-color: #0066cc;
    }
    
    .category-btn {
        border-width: 2px;
    }
    
    .form-input,
    .form-textarea,
    .form-select {
        border-width: 2px;
    }
    
    .btn {
        border-width: 2px;
        font-weight: 600;
    }
}

/* ===== UTILITIES RESPONSIVAS ===== */

/* Display utilities */
.d-xs-none { display: none; }
@media (min-width: 576px) { .d-xs-none { display: initial; } }
@media (min-width: 576px) { .d-sm-none { display: none; } }
@media (min-width: 768px) { .d-sm-none { display: initial; } }
@media (min-width: 768px) { .d-md-none { display: none; } }
@media (min-width: 992px) { .d-md-none { display: initial; } }
@media (min-width: 992px) { .d-lg-none { display: none; } }
@media (min-width: 1200px) { .d-lg-none { display: initial; } }

/* Text alignment */
@media (max-width: 575.98px) { .text-xs-center { text-align: center; } }
@media (min-width: 576px) { .text-sm-left { text-align: left; } }
@media (min-width: 768px) { .text-md-center { text-align: center; } }
@media (min-width: 992px) { .text-lg-left { text-align: left; } }

/* Flex utilities */
@media (max-width: 575.98px) {
    .flex-xs-column { flex-direction: column; }
    .justify-xs-center { justify-content: center; }
}

@media (min-width: 576px) and (max-width: 767.98px) {
    .flex-sm-column { flex-direction: column; }
    .justify-sm-center { justify-content: center; }
}

@media (min-width: 768px) and (max-width: 991.98px) {
    .flex-md-column { flex-direction: column; }
    .justify-md-center { justify-content: center; }
}

/* ===== CONTAINER RESPONSIVO CUSTOMIZADO ===== */
.container-responsive {
    width: 100%;
    padding-right: var(--spacing-md);
    padding-left: var(--spacing-md);
    margin-right: auto;
    margin-left: auto;
}

@media (min-width: 576px) {
    .container-responsive {
        max-width: 540px;
    }
}

@media (min-width: 768px) {
    .container-responsive {
        max-width: 720px;
    }
}

@media (min-width: 992px) {
    .container-responsive {
        max-width: 960px;
    }
}

@media (min-width: 1200px) {
    .container-responsive {
        max-width: 1140px;
    }
}

@media (min-width: 1400px) {
    .container-responsive {
        max-width: 1320px;
    }
}
